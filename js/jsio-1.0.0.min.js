/**
 * JSIO v1.0.0
 * 
 * Copyright 2011 Alan Shaw
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and limitations
 * under the License.
 */
(function(r,i){r.jsio=r.jsio||{};var s=i.getElementsByTagName('script'),o=s[s.length-1],u='?'+o.src.replace(/^[^\?]+\??/,''),e=(function(){var b,a=3,c=i.createElement('div');while(c.innerHTML='<!--[if gt IE '+(++a)+']><i></i><![endif]-->',c.getElementsByTagName('i')[0]);return a>4?a:b}());function v(b,a){if(!a)a='';var c=new RegExp("[\\?&]"+b+"=([^&#]+)"),f=c.exec(u);return f?f[1]:a}function w(){for(var b=0,a=i.styleSheets.length;b<a;++b){var c=i.styleSheets[b],f=e<9?'rules':'cssRules';for(var j=0,k=c[f].length;j<k;++j){var g=c[f][j],d=g.style.backgroundImage;if(d){var x=/url\(['"]?(.*?)jsio\.gif#(.*?)['"]?\)/gmi,m,h=d;while(m=x.exec(d)){var p=m[0],t=m[1],l=m[2];if(jsio.resources[l]){if(e<8||(e==8&&jsio.resources[l].length*2>32000)){h=h.replace(p,'url('+t+l+')')}else{h=h.replace(p,'url('+jsio.resources[l]+')')}}else{h=h.replace(p,'url('+t+l+')')}}if(h!=d){g.style.backgroundImage=h}}}if(e)c.addRule('jsio','jsio')}}function y(){var b=i.getElementsByTagName('img');for(var a=0,c=b.length;a<c;++a){var f=b[a],j=/(.*?)jsio\.gif#(.*)/gmi,k;if(k=j.exec(f.src)){var g=k[2],d;if(jsio.resources[g]){if(e<8||(e==8&&jsio.resources[g].length*2>32000)){d=k[1]+g}else{d=jsio.resources[g]}}else{d=g}f.src=d}}}function q(){if(!jsio.resources)return;w();y()}if(e<8){jsio.resources={};q()}else{var n=i.createElement('script');if(e<9){n.onreadystatechange=function(){if(this.readyState=='loaded'||this.readyState=='complete'){q()}}}else{n.onload=q}o.parentNode.appendChild(n,o);n.src=v('resUrl','/js/jsio-resources.js')}})(window,document);